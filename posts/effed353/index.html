<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Latex环境配置与模板 | syuansheng's blogs</title><meta name="author" content="syuansheng"><meta name="copyright" content="syuansheng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文的内容主要是关于如何在sublime中配置latex写作环境，学习了怎么管理latex的包和使用别人做好的模板。">
<meta property="og:type" content="article">
<meta property="og:title" content="Latex环境配置与模板">
<meta property="og:url" content="https://yuanshengshe.github.io/posts/effed353/index.html">
<meta property="og:site_name" content="syuansheng&#39;s blogs">
<meta property="og:description" content="本文的内容主要是关于如何在sublime中配置latex写作环境，学习了怎么管理latex的包和使用别人做好的模板。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%A8%A1%E6%9D%BF/cover.webp">
<meta property="article:published_time" content="2025-08-01T08:44:12.000Z">
<meta property="article:modified_time" content="2025-08-02T14:28:30.713Z">
<meta property="article:author" content="syuansheng">
<meta property="article:tag" content="Latex">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%A8%A1%E6%9D%BF/cover.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Latex环境配置与模板",
  "url": "https://yuanshengshe.github.io/posts/effed353/",
  "image": "https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/cover.webp",
  "datePublished": "2025-08-01T08:44:12.000Z",
  "dateModified": "2025-08-02T14:28:30.713Z",
  "author": [
    {
      "@type": "Person",
      "name": "syuansheng",
      "url": "https://yuanshengshe.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/DMU.png"><link rel="canonical" href="https://yuanshengshe.github.io/posts/effed353/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.7.2/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":"ture","top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":200,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'medium_zoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Latex环境配置与模板',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/myfooter.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/mygradient.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="web_bg" style="background-image: url(https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/顶部图/wallhaven-7j37v3_1920x1080.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/avatar3.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> Blogs</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> Archives</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/datasets/"><i class="fa-fw fas fa-list"></i><span> Datasets</span></a></div><div class="menus_item"><a class="site-page" href="/abouts/"><i class="fa-fw fas fa-heart"></i><span> About Me</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><!-- 左侧博客信息区域--><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">syuansheng's blogs</span></a><a class="nav-page-title" href="/"><span class="site-name">Latex环境配置与模板</span></a></span><!-- 新增的导航菜单容器（居中布局关键）--><div id="nav-menus-container"><!-- 菜单主体部分--><div id="menus"><!-- 搜索按钮--><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><!-- 菜单项--><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> Blogs</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> Archives</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/datasets/"><i class="fa-fw fas fa-list"></i><span> Datasets</span></a></div><div class="menus_item"><a class="site-page" href="/abouts/"><i class="fa-fw fas fa-heart"></i><span> About Me</span></a></div></div></div><!-- 移动端汉堡菜单按钮（保持原位置）--><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Latex环境配置与模板</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-08-01T08:44:12.000Z" title="Created 2025-08-01 16:44:12">2025-08-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-08-02T14:28:30.713Z" title="Updated 2025-08-02 22:28:30">2025-08-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8A%80%E6%9C%AF/">计算机技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">2.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>9mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><h1 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h1><p>说明配置问题前得先提一下Tex,Latex,Texlive的关系——Texlive实际就是Tex的一种发行版，可以类比成编译器、而Latex可以简单理解成一种排版语言，用latex写好文章之后交给Texlive编译就可以得到对应的pdf，很多资料中提到的Texstudio实际上就只是一个专门写latex的编辑器<del>就像pycharm专门写python一样</del>。我的主力编辑器是sublime，本着降低学习成本的原则，就不装texstudio了，直接在sublime里面配好latex的环境。</p>
<p>要想在sublime中使用latex得下载：</p>
<ul>
<li>Texlive（编译器）</li>
<li>Sumatra（极简版pdf阅读器）</li>
<li>LaTeXTools（sl的插件）：核心解决的是编辑-编译-预览-调试工作流，使得sublime可以去调用latex的编译器、实时预览编译结果并双向同步（<font color="blue">使用sumatra这个软件作为pdf预览的后端，sublime是不直接支持pdf预览的</font>）、提供latex的语法高亮、以及latex中常用环境的snippet。</li>
<li>Latex-cwl（sl的插件）：提供超全、精准、带参数提示的命令和环境补全功能。</li>
</ul>
<p>然后需要设置下laTexTools的相关配置：</p>
<pre class="line-numbers language-plain" data-language="plain"><div class="caption"><span>配置pdf预览后端</span></div><code class="language-plain">"windows": {
    // Path used when invoking tex &amp; friends; "" is fine for MiKTeX
    // For TeXlive 2011 (or other years) use
    // "texpath" : "C:\\texlive\\2011\\bin\\win32;$PATH",
    "texpath" : "D:\\texlive\\2017\\bin\\win32;$PATH",
    // TeX distro: "miktex" or "texlive"
    "distro" : "texlive",
    // Command to invoke Sumatra. If blank, "SumatraPDF.exe" is used (it has to be on your PATH，注意改成自己的地址)
    "sumatra": "D:\\Program Files\\SumatraPDF\\SumatraPDF.exe",
    // Command to invoke Sublime Text. Used if the keep_focus toggle is true.
    // If blank, "subl.exe" or "sublime_text.exe" will be used.
    "sublime_executable": "",
    // how long (in seconds) to wait after the jump_to_pdf command completes
    // before switching focus back to Sublime Text. This may need to be
    // adjusted depending on your machine and configuration.
    "keep_focus_delay": 0.5
  },<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-plain" data-language="plain"><div class="caption"><span>latex相关快捷键</span></div><code class="language-plain">// 给latex环境绑定的快捷键 跳转到pdf、查看目录（实际上用sumlime自带的ctrl+r也行）
{   "keys": ["ctrl+1"], 
    "context":  [
        {"key": "selector", "operator": "equal", "operand": "text.tex.latex"}],
    "command": "latextools_jumpto_pdf", "args": {"from_keybinding": true}},
{ "keys": ["ctrl+2"],
    "args": {"only_current_file": true},
    "context":  [
        {"key": "selector", "operator": "equal", "operand": "text.tex"}],
    "command": "latextools_toc_quickpanel"},<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后来添加正向索引（从tex文件索引到pdf对应位置）和反向索引（从pdf对应位置索引到tex文件对应位置）的功能：</p>
<p>(1) 把sumatra添加到环境变量（<font color="red">切换为自己相应的位置</font>），让系统能找到它。<br><pre class="line-numbers language-plain" data-language="plain"><div class="caption"><span>添加环境变量</span></div><code class="language-plain">D:\Program Files\SumatraPDF<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br>(2) 在cmd中输入如下命令<br><pre class="line-numbers language-dash" data-language="dash"><div class="caption"><span>配置反向搜索的命令</span></div><code class="language-dash">sumatrapdf.exe -inverse-search "\"C:\Program Files\Sublime Text\sublime_text.exe\" \"%f:%l\"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br>(3) 最后在sumatra的设置-选项中将双击时执行的命令一栏设置为<br><pre class="line-numbers language-plain" data-language="plain"><code class="language-plain">"C:\Program Files\Sublime Text\sublime_text.exe" "%f:%l"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p>
<p>至此，就成功在sublime上搭建好latex的环境了！</p>
<h1 id="latex排版入门"><a href="#latex排版入门" class="headerlink" title="latex排版入门"></a>latex排版入门</h1><h2 id="关于latex的包管理"><a href="#关于latex的包管理" class="headerlink" title="关于latex的包管理"></a>关于latex的包管理</h2><p>和python一样，基础的latex提供有限的功能，想要更多的功能必须使用第三方包，如果下载的式texlive，那么基本上大部分包都已经安装到电脑上了。如果需要对包进行管理，可以使用texlive提供的tlmgr（但这种方式老是报错），下面就介绍怎么手动安装自己需要的latex宏包（<span>\</span>documentcalss{}中写的文档模板也是一样的操作）。就我的电脑而言，所有的宏包都放在C:/texlive/2017/texmf-dist/tex/latex这个路径下边。要新增宏包，就在这个目录下新建一个<font color="green">同名</font>文件夹然后把对应的包文件（如后缀为sty，cls的文件）放到这个目录下，最后以管理员身份在命令行中输入texhash 命令刷新，就可以在tex文件中导入你新增的宏包了。</p>
<blockquote>
<p>想要什么包都可以去 <a target="_blank" rel="noopener" href="https://ctan.org/pkg">https://ctan.org/pkg</a> 这个网站下载相应的sty文件。</p>
</blockquote>
<h2 id="关于latex的模板"><a href="#关于latex的模板" class="headerlink" title="关于latex的模板"></a>关于latex的模板</h2><p>latex强就强在可以非常快速的套别人做好的模板，例如<a target="_blank" rel="noopener" href="https://www.overleaf.com/latex/templates?">https://www.overleaf.com/latex/templates?</a> 这个网站基本上可以搜索到所有期刊提供写作模板，下载下来，放到C:/texlive/2017/texmf-dist/tex/latex这个路径下边，就可以开始愉快的套模板了。下面以trasportaion science提供的模板为例：<br>(1) 去上面提到的网站找模板，复制下来。    </p>
<center>
        <img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/1.webp" weight="50%" height="50%">
        Fig1. 去网站上找模板
</center>

<p>(2) 然后把复制内容写道tex文件里编译，这时会提醒你缺失了informs3.cls模板文件。因为上面的trasportaion science模板用了这个模板文件，所以我们必须下载它。上github找这个模板文件，然后放到C:/texlive/2017/texmf-dist/tex/latex这个路径下边（<font color="red">别忘了管理员模式下texhash下</font>），最后就大功告成了。       </p>
<table>
    <tr>
        <td>
            <center>
                <img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/3.webp">
                Fig2. 编译看看缺了inform3.cls文件
            </center>
        </td>
        <td>
            <center>
                <img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/4.webp">
                Fig3. 去网上找inform3.cls文件然后放到本地
            </center>
        </td>
    </tr>
</table>

<center>
        <img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/5.webp">
        Fig4. 再次编译，成功运行
</center>

<h2 id="关于latex语法"><a href="#关于latex语法" class="headerlink" title="关于latex语法"></a>关于latex语法</h2><p>这块儿目前还没有很迫切的需求去详细学习，计划在使用别人做好的模板的过程中遇到问题再补充，就先略过了。<br><pre class="line-numbers language-latex" data-language="latex"><div class="caption"><span>一个tex文件的例子</span></div><code class="language-latex"><span class="token comment">% document环境之前的部分都叫做序言</span>
<span class="token comment">% 定义了文档类（类型）以及诸如编写文档时使用的语言等细节，加载您想要使用的包</span>
<span class="token function selector">\documentclass</span><span class="token punctuation">[</span>12pt, letterpaper<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token keyword">article</span><span class="token punctuation">}</span> <span class="token comment">% 定义文章类型是article，并在[]中传递附加参数</span>
<span class="token function selector">\title</span><span class="token punctuation">{</span>My first LaTeX document<span class="token punctuation">}</span> <span class="token comment">% 序言中的内容不会显示在编译好的pdf中，这里只是在设置题目、作者和日期信息，想在正文的什么位置显示就得在正文使用\maketitle命令</span>
<span class="token function selector">\author</span><span class="token punctuation">{</span>Hubert Farnsworth<span class="token function selector">\thanks</span><span class="token punctuation">{</span>Funded by the Overleaf team.<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token function selector">\date</span><span class="token punctuation">{</span>August 2022<span class="token punctuation">}</span>
<span class="token function selector">\usepackage</span><span class="token punctuation">{</span><span class="token keyword">graphicx</span><span class="token punctuation">}</span> <span class="token comment">% 支持latex中显示图像的包</span>
<span class="token function selector">\usepackage</span><span class="token punctuation">{</span><span class="token keyword">amsmath</span><span class="token punctuation">}</span> <span class="token comment">% 提供了额外的公式环境</span>
<span class="token function selector">\graphicspath</span><span class="token punctuation">{</span><span class="token punctuation">{</span>images/<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment">% 配置图像放在当前文件夹的images目录下，下面导入图片的地址就可以用基于images的相对路径了</span>
<span class="token comment">% document环境之间的部分叫做正文</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">document</span><span class="token punctuation">}</span>
<span class="token function selector">\maketitle</span> <span class="token comment">% 添加标题信息的命令</span>
<span class="token function selector">\tableofcontents</span> <span class="token comment">% 添加目录的命令</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">abstract</span><span class="token punctuation">}</span> <span class="token comment">% 使用abstract环境排版摘要</span>
This is a simple paragraph at the beginning of the 
document. A brief introduction about the main subject.
<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">abstract</span><span class="token punctuation">}</span>
<span class="token comment">% 分段通过空行实现，和markdown一样，换行通过\\或\newline实现，建议新用户不要使用多个\\ 或 \换行符来“模拟”段落之间有较大间距，因为这会干扰 LaTeX 的排版算法。推荐的方法是继续使用空白行来创建新段落</span>
<span class="token function selector">\section</span><span class="token punctuation">{</span><span class="token headline class-name">Test section</span><span class="token punctuation">}</span>
<span class="token function selector">\subsection</span><span class="token punctuation">{</span><span class="token headline class-name">Test subsection</span><span class="token punctuation">}</span>
After our abstract we can begin the first paragraph, then press ``enter'' twice to start the second one.

This line will start a second paragraph.

I will start the third paragraph and then add <span class="token function selector">\\</span> a manual line break which causes this text to start on a new line but remains part of the same paragraph. Alternatively, I can use the <span class="token function selector">\verb</span>|<span class="token function selector">\newline</span>|<span class="token function selector">\newline</span> command to start a new line, which is also part of the same paragraph.

First document. This is a simple example, with no 
extra parameters or packages included.
Some of the <span class="token function selector">\textbf</span><span class="token punctuation">{</span>greatest<span class="token punctuation">}</span>
discoveries in <span class="token function selector">\underline</span><span class="token punctuation">{</span>science<span class="token punctuation">}</span> 
were made by <span class="token function selector">\textbf</span><span class="token punctuation">{</span><span class="token function selector">\textit</span><span class="token punctuation">{</span>accident<span class="token punctuation">}</span><span class="token punctuation">}</span>.
<span class="token comment">% The \includegraphics command is </span>
<span class="token comment">% provided (implemented) by the </span>
<span class="token comment">% graphicx package</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">figure</span><span class="token punctuation">}</span><span class="token punctuation">[</span>h<span class="token punctuation">]</span>
    <span class="token function selector">\centering</span>
    <span class="token function selector">\includegraphics</span><span class="token punctuation">[</span>width=0.35<span class="token function selector">\textwidth</span><span class="token punctuation">]</span><span class="token punctuation">{</span>testpic<span class="token punctuation">}</span> <span class="token comment">% 图像宽度设置为文本宽度的35%</span>
    <span class="token function selector">\caption</span><span class="token punctuation">{</span>The emblem of Dalian Maritime University.<span class="token punctuation">}</span> <span class="token comment">% 图像说明</span>
    <span class="token function selector">\label</span><span class="token punctuation">{</span><span class="token keyword">fig:testpic</span><span class="token punctuation">}</span> <span class="token comment">% 设置图像标签，课配合\ref{fig:testpic}命令引用这个图</span>
<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">figure</span><span class="token punctuation">}</span> <span class="token comment">% Although the full file name, including its extension, is allowed in the \includegraphics command, it’s considered best practice to omit the file extension because it will prompt LaTeX to search for all the supported formats.</span>
<span class="token comment">% Unordered lists are produced by the itemize environment. Each list entry must be preceded by the \item command</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">itemize</span><span class="token punctuation">}</span>
  <span class="token function selector">\item</span> The individual entries are indicated with a black dot, a so-called bullet.
  <span class="token function selector">\item</span> The text in the entries may be of any length.
<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">itemize</span><span class="token punctuation">}</span>
<span class="token comment">% Ordered lists use the same syntax as unordered lists but are created using the enumerate environment</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">enumerate</span><span class="token punctuation">}</span>
  <span class="token function selector">\item</span> This is the first entry in our list.
  <span class="token function selector">\item</span> The list numbers increase with each entry we add.
<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">enumerate</span><span class="token punctuation">}</span>
<span class="token comment">% 内联数学公式</span>
In physics, the mass-energy equivalence is stated 
by the equation <span class="token equation string">$E=mc^2$</span>, discovered in 1905 by Albert Einstein.
<span class="token comment">% 显示数学公式To typeset display-mode math you can use one of these delimiter pairs: \[ ... \], \begin{displaymath} ... \end{displaymath} or \begin{equation} ... \end{equation}. Historically, typesetting display-mode math required use of $$ characters delimiters, as in $$ ... display math here ...$$, but this method is no longer recommended: use LaTeX’s delimiters \[ ... \] instead.</span>
The mass-energy equivalence is described by the famous equation
<span class="token equation string">\[ E=mc^2 \]</span> discovered in 1905 by Albert Einstein. 

In natural units (<span class="token equation string">$c = 1$</span>), the formula expresses the identity.

Subscripts in math mode are written as <span class="token equation string">$a_b$</span> and superscripts are written as <span class="token equation string">$a^b$</span>. These can be combined and nested to write expressions such as

<span class="token equation string">\[ T^{i_1 i_2 <span class="token equation-command regex">\dots</span> i_p}_{j_1 j_2 <span class="token equation-command regex">\dots</span> j_q} = T(x^{i_1},<span class="token equation-command regex">\dots</span>,x^{i_p},e_{j_1},<span class="token equation-command regex">\dots</span>,e_{j_q}) \]</span>
 
We write integrals using <span class="token equation string">$<span class="token equation-command regex">\int</span>$</span> and fractions using <span class="token equation string">$<span class="token equation-command regex">\frac</span>{a}{b}$</span>. Limits are placed on integrals using superscripts and subscripts:

<span class="token equation string">\[ <span class="token equation-command regex">\int</span>_0^1 <span class="token equation-command regex">\frac</span>{dx}{e^x} =  <span class="token equation-command regex">\frac</span>{e-1}{e} \]</span>

Lower case Greek letters are written as <span class="token equation string">$<span class="token equation-command regex">\omega</span>$</span> <span class="token equation string">$<span class="token equation-command regex">\delta</span>$</span> etc. while upper case Greek letters are written as <span class="token equation string">$<span class="token equation-command regex">\Omega</span>$</span> <span class="token equation string">$<span class="token equation-command regex">\Delta</span>$</span>.

Mathematical operators are prefixed with a backslash as <span class="token equation string">$<span class="token equation-command regex">\sin</span>(<span class="token equation-command regex">\beta</span>)$</span>, <span class="token equation string">$<span class="token equation-command regex">\cos</span>(<span class="token equation-command regex">\alpha</span>)$</span>, <span class="token equation string">$<span class="token equation-command regex">\log</span>(x)$</span> etc.
<span class="token comment">% asmath提供的多行公式环境align和数组环境array</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">align</span><span class="token punctuation">}</span><span class="token equation string">
          y &amp; = x <span class="token equation-command regex">\\</span>
          y &amp; = 3x^2 + 5x + 2
</span><span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">align</span><span class="token punctuation">}</span>
<span class="token comment">%  在latex中只用自带的tabular环境创建表</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">table</span><span class="token punctuation">}</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">center</span><span class="token punctuation">}</span>
<span class="token function selector">\begin</span><span class="token punctuation">{</span><span class="token keyword">tabular</span><span class="token punctuation">}</span><span class="token punctuation">{</span>|c |l| r|<span class="token punctuation">}</span> <span class="token comment">% clr表示表格有三列，分别居中、左对齐和右对齐,|表示在相应列添加竖线</span>
 <span class="token function selector">\hline</span>
 cell1 <span class="token punctuation">&amp;</span> cell2 <span class="token punctuation">&amp;</span> cell3 <span class="token function selector">\\</span> 
 cell4 <span class="token punctuation">&amp;</span> cell5 <span class="token punctuation">&amp;</span> cell6 <span class="token function selector">\\</span> 
 cell7 <span class="token punctuation">&amp;</span> cell8 <span class="token punctuation">&amp;</span> cell9 <span class="token function selector">\\</span> 
 <span class="token function selector">\hline</span>
<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">tabular</span><span class="token punctuation">}</span>
<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">center</span><span class="token punctuation">}</span>
<span class="token function selector">\caption</span><span class="token punctuation">{</span>Table to test captions and labels.<span class="token punctuation">}</span>
<span class="token function selector">\label</span><span class="token punctuation">{</span><span class="token keyword">table:data</span><span class="token punctuation">}</span>
<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">table</span><span class="token punctuation">}</span>

<span class="token function selector">\end</span><span class="token punctuation">{</span><span class="token keyword">document</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<table>
    <tr>
        <td>
            <center>
                <img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/6.webp">
            </center>
        </td>
        <td>
            <center>
                <img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/7.webp">
            </center>
        </td>
    </tr>
</table>

<p>不得不说，latex排版确实是比word排版看着舒服。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ol>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV117w5eyEXv?spm_id_from=333.788.videopod.episodes&amp;vd_source=f12513f7355187e8fe4d5eabc07767fa">全网最全最细的LaTeX排版教程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes#Writing_your_first_piece_of_LaTeX">overleaf——30分钟入门latex排版</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeYanan/Latex">latex基础语法教程(github)</a></li>
<li><a target="_blank" rel="noopener" href="https://ctan.org/pkg">CTAN官网</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://YuanshengShe.github.io">syuansheng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://yuanshengshe.github.io/posts/effed353/">https://yuanshengshe.github.io/posts/effed353/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Latex/">Latex</a></div><div class="post-share"><div class="social-share" data-image="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Latex环境配置与模板/cover.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>点这里请我喝杯咖啡吧！</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/wechatreceive.jpg" target="_blank"><img class="post-qr-code-img" src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/wechatreceive.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/36e200c/" title="gurobi速查手册"><img class="cover" src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/Gurobi速查手册/cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">gurobi速查手册</div></div><div class="info-2"><div class="info-item-1">整理实践过程中gurobi中相关操作。</div></div></div></a><a class="pagination-related" href="/posts/67b0a845/" title="论文阅读20250805"><img class="cover" src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/论文阅读/covers/1.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">论文阅读20250805</div></div><div class="info-2"><div class="info-item-1">题目：《Models on ship scheduling in transshipment hubs with considering bunker cost》 作者：Lu Zhen,Tao Shen,Shuaian Wang,Shucheng Yu。</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/avatar3.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">syuansheng</div><div class="author-info-description">Life is a marathon!</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">5</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/YuanshengShe" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:13350003472@163.com" target="_blank" title="Mail2Me"><i class="fas fa-envelope" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://grs.dlmu.edu.cn/" target="_blank" title="DMU"><i class="fa-solid fa-building-columns" style="color: #hdhfbb;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">我是syuansheng，一名<font color='green'>交通运输规划与管理专业</font>的在读研究生。这是我的个人主页，我将在这里记录学习📚和生活🌈，同时我也期待得到一份<font color='blue'>物流、供应链或航运相关的工作</font>， 如果你能够提供类似岗位或实习机会，请通过上方邮箱联系我！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">环境配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#latex%E6%8E%92%E7%89%88%E5%85%A5%E9%97%A8"><span class="toc-number">2.</span> <span class="toc-text">latex排版入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Elatex%E7%9A%84%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">关于latex的包管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Elatex%E7%9A%84%E6%A8%A1%E6%9D%BF"><span class="toc-number">2.2.</span> <span class="toc-text">关于latex的模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Elatex%E8%AF%AD%E6%B3%95"><span class="toc-number">2.3.</span> <span class="toc-text">关于latex语法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">3.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/e7a2c8be/" title="论文阅读20250816"><img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/论文阅读/covers/2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读20250816"/></a><div class="content"><a class="title" href="/posts/e7a2c8be/" title="论文阅读20250816">论文阅读20250816</a><time datetime="2025-08-16T06:11:46.000Z" title="Created 2025-08-16 14:11:46">2025-08-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7604b6d6/" title="插图制作"><img src="/images/%E6%8F%92%E5%9B%BE%E5%88%B6%E4%BD%9C/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="插图制作"/></a><div class="content"><a class="title" href="/posts/7604b6d6/" title="插图制作">插图制作</a><time datetime="2025-08-14T12:31:19.000Z" title="Created 2025-08-14 20:31:19">2025-08-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/aca27b5/" title="多元函数的泰勒展开式"><img src="https://hub.gitmirror.com/raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/多元函数的泰勒展开式/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多元函数的泰勒展开式"/></a><div class="content"><a class="title" href="/posts/aca27b5/" title="多元函数的泰勒展开式">多元函数的泰勒展开式</a><time datetime="2025-08-10T14:25:54.000Z" title="Created 2025-08-10 22:25:54">2025-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/89db5cec/" title="最优化理论与方法初探"><img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/最优化理论与方法/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="最优化理论与方法初探"/></a><div class="content"><a class="title" href="/posts/89db5cec/" title="最优化理论与方法初探">最优化理论与方法初探</a><time datetime="2025-08-10T02:17:10.000Z" title="Created 2025-08-10 10:17:10">2025-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/67b0a845/" title="论文阅读20250805"><img src="https://hub.gitmirror.com/https://raw.githubusercontent.com/YuanshengShe/YuanshengShe.github.io/main/images/论文阅读/covers/1.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读20250805"/></a><div class="content"><a class="title" href="/posts/67b0a845/" title="论文阅读20250805">论文阅读20250805</a><time datetime="2025-08-05T11:11:33.000Z" title="Created 2025-08-05 19:11:33">2025-08-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2025 By syuansheng</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script src="/js/Cherry blossoms fluttering.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="输入关键词…" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"react":{"opacity":1},"log":false});</script></body></html>